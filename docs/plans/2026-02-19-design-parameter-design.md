# 설계지반정수 산정 프로그램 — 설계 문서

> 작성일: 2026-02-19

---

## 1. 개요

### 1.1 목적
지반조사 결과(SPT N값)를 기반으로 설계지반정수를 경험식으로 산정하는 웹 애플리케이션

### 1.2 주요 결정사항

| 항목 | 결정 |
|------|------|
| 플랫폼 | 웹 애플리케이션 (SPA) |
| 입력 방식 | 웹 폼 직접 입력 |
| 사용자 범위 | 개인 사용 (인증 불필요) |
| 데이터 저장 | 세션 기반 (DB 없음) |
| 결과 출력 | 화면 표시 + 엑셀 다운로드 |

### 1.3 기술 스택

| 구분 | 기술 |
|------|------|
| 프론트엔드 | React + TypeScript |
| UI | Tailwind CSS |
| 차트 | Chart.js |
| 엑셀 내보내기 | SheetJS (xlsx) |
| 빌드 | Vite |
| 배포 | 정적 호스팅 (서버 불필요) |

---

## 2. 화면 구성

탭 네비게이션 방식으로 8개 모듈을 순차 진행 (자유 이동 가능)

| 탭 | 모듈 | 설명 |
|----|------|------|
| 1 | N값 분포 | 시추공/지층/N값 입력 + 그래프 |
| 2 | 내부마찰각 | 5개 경험식 산정 |
| 3 | 점착력 | 3개 경험식 산정 |
| 4 | 변형계수 | 6개 경험식 산정 |
| 5 | 수평지반반력계수 | 지층구분별 경험식 산정 |
| 6 | 앵커주면마찰저항 | 지반 종류별 산정 |
| 7 | 투수계수 | Hazen/Creager 산정 |
| 8 | 최종 요약 | 전체 결과 통합 + 단위중량 입력 |

---

## 3. 데이터 흐름

```
N값 분포 → 지층명 + 대표N값
    ↓
내부마찰각 → 적용N값, 적용 내부마찰각
    ↓
점착력 → 적용N값, 적용 점착력
    ↓
변형계수 → 지층구분(직접입력), α/Bowles 입력, 적용 변형계수
    ↓
수평지반반력계수 → 적용 수평지반반력계수
    ↓
앵커주면마찰저항 → 적용 앵커주면마찰저항
    ↓
투수계수 → D10/D20 입력, 적용 투수계수
    ↓
최종 요약 → 단위중량(직접입력) + 전체 결과 통합
```

- 각 모듈의 "선행 적용값"은 이전 모듈의 결과를 자동 반영
- 상위 모듈에서 값 수정 시 하위 모듈 자동 재계산
- 자동 반영 셀: 회색 배경 (읽기 전용)
- 직접 입력 셀: 흰색 배경

---

## 4. 입력 구조 상세

### 4.1 N값 분포 (탭 1)

**프로젝트 설정:**
- 지층 목록: 자유롭게 추가/삭제 (예: 매립층, 풍화토, 풍화암 등)
- 시추공 목록: 자유롭게 추가/삭제 (예: BH-01, BH-02 등)
- 시추공 수, 공번별 측정값 수 모두 가변

**N값 입력 테이블 (동적 그리드):**
- 시추공별 탭 또는 드롭다운으로 전환
- 행: 심도(측정 순서) — 공번별 행 수가 다름
- 열: 지층 배정 + N값
- 행 추가/삭제 가능

**자동 산출:**
- 지층별 대표 N값 (평균)
- 지층별 측정치 수
- 그래프: 심도별 N값 분포 (전체 시추공 오버레이)

### 4.2 강도정수/변형계수/수평지반반력/앵커 (탭 2~6, 공통 패턴)

테이블 구성:
- 지층명 (자동)
- 대표 N값 (자동)
- 적용 N값 (직접 입력, 기본값=대표N값)
- 경험식별 산정값 (자동 계산)
- 평균 (자동)
- 범위 (자동)
- 시험값 (직접 입력)
- 인근자료 (직접 입력)
- 적용: 2가지 선택 옵션
  1. 시험값/인근자료가 없는 경우 → 경험식 평균값 반영
  2. 시험값/인근자료가 있거나 필요시 → 직접 입력

**변형계수 추가 컬럼:** α 계수 입력, Bowles 입력치, 지층구분 + 참조자료 팝오버
**수평지반반력계수:** 지층구분, 점착력 자동 반영
**앵커주면마찰저항:** 암반층 별도 추가 입력 영역

### 4.3 투수계수 (탭 7)

테이블 구성:
- 지층명 (자동)
- 지층구분 (선행값 반영)
- D10 (직접 입력, mm)
- D20 (직접 입력, mm)
- Hazen (자동, D10 입력 시)
- Creager (자동, D20 입력 시, 참조테이블 조회)
- 현장시험값 (직접 입력)
- 인근자료 (직접 입력)
- 적용: 2가지 선택 옵션
  1. 시험값/인근자료가 없는 경우 → 경험식 최대값 반영
  2. 시험값/인근자료가 있거나 필요시 → 직접 입력
- 비고 (자동: 적용 근거 표시)

참조자료 팝오버:
- Creager 테이블 (D20 → Ks, 28개 구간)
- USBR 테이블 (USCS 분류 → Ks, 15개 분류)

### 4.4 최종 요약 (탭 8)

테이블 구성:
- 지층명 (자동)
- 대표 N값 (자동)
- 적용 N값 (자동)
- 단위중량 rt (kN/m³, 직접 입력)
- 점착력 c (kPa, 자동)
- 내부마찰각 φ (°, 자동)
- 변형계수 E (MPa, 자동)
- 수평지반반력계수 kh (kN/m³, 자동)
- 투수계수 k (cm/sec, 자동)

엑셀 다운로드: 요약 시트 + 각 모듈 상세를 시트별로 내보내기

---

## 5. 경험식 계산 로직

### 5.1 내부마찰각 (°)

| 경험식 | 산정식 | 조건 |
|--------|--------|------|
| Dunham | φ = √(12N) + 15 | 항상 산정 |
| Peck | φ = 0.3N + 27 | 항상 산정 |
| Meyerhof | φ = 0.25N + 32.5 | N ≥ 10만 산정, N < 10 공란 |
| Ohsaki | φ = √(20N) + 15 | 항상 산정 |
| 도로교시방서 | φ = √(15N) + 15 | 항상 산정 |

- 평균: 산정된 경험식 값들의 산술평균 (소수점 절사)
- 범위: 최소 ~ 최대

### 5.2 점착력 (kPa)

| 경험식 | 산정식 | 점착력 환산 |
|--------|--------|-------------|
| Dunham | qu = N / 0.077 | c = qu / 2 |
| Terzaghi-Peck | qu = N / 0.082 | c = qu / 2 |
| Ohsaki | qu = 40 + N / 0.2 | c = qu / 2 |

- 평균, 범위: 내부마찰각과 동일 방식

### 5.3 변형계수 (MPa)

| 경험식 | 산정식 | 조건 |
|--------|--------|------|
| Schmertmann | E = α × N × 0.1 | α 직접입력 (없으면 공란) |
| Bowles | 4가지 공식 중 선택 | 입력치 선택 (없으면 공란) |
| Yoshinaka | E = 0.678 × N^0.993 | 항상 산정 |
| Hisatake | E = (5N + 70) × 0.1 | 항상 산정 |
| 도로교시방서 | E = 2.8 × N | 항상 산정 |
| 구조물기초설계기준 | 모래: 0.766N, 자갈: 1.2(N+6) | 모래/자갈만, 나머지 공란 |

Schmertmann α 참조:
- 실트 또는 모래질 실트: 4
- 세립 또는 중립모래: 7
- 조립모래: 10
- 자갈질 모래 또는 자갈: 12~15

Bowles 공식:
- 모래: E = 0.5(N+15)
- 점토질 모래: E = 0.32(N+15)
- 실트질 모래: E = 0.3(N+6)
- 자갈섞인 모래: E = 1.2(N+6)

- 평균: 공란 제외한 값들의 산술평균
- 범위: 공란 제외한 값들의 최소 ~ 최대

### 5.4 수평지반반력계수 (kN/m³)

| 지층구분 | 경험식 |
|----------|--------|
| 모래/자갈 | Hukuoka 산정식 |
| 점토/실트 | Soletanche 산정식 |

### 5.5 앵커주면마찰저항 (kN/m²)

- 지층구분(토사/암반) + 적용N값 기반 산정
- 암반층인 경우 별도 지층 추가 가능

### 5.6 투수계수 (cm/sec)

| 경험식 | 산정식 | 조건 |
|--------|--------|------|
| Hazen | k = 1.5 × D10² | D10 입력 시 산정 |
| Creager | D20 → 참조테이블 조회 | D20 입력 시 산정 |

Creager 참조테이블: D20(mm) 0.005 ~ 2.0, 28개 구간
USBR 참조테이블: USCS 15개 분류 (GW, GP, GM, ... CH)

---

## 6. UX 원칙

- 선행값 자동 반영 셀: 회색 배경 (읽기 전용)
- 직접 입력 가능 셀: 흰색 배경
- 적용 옵션 전환 시 즉시 재계산
- 참조자료 (α 계수표, Bowles 조건식, Creager/USBR 테이블): 물음표 아이콘 → 팝오버
- 탭 간 자유 이동 가능, 순차 진행 권장
- N값 입력: 시추공 수, 공번별 측정값 수 모두 동적 가변
